' {$STAMP BS2}
' {$PBASIC 2.5}

wstep VAR Byte
cnt VAR Byte

wstep = 0

DIRH = %11111111

cnt = %00000011

DO
  SELECT wstep

    CASE 0
      DO WHILE (cnt <> %11000000)
        cnt = cnt << 1
        DEBUG ? cnt
        PAUSE 1000
        OUTH = cnt
      LOOP

      wstep = 20

    CASE 20
      DO WHILE (cnt <> %00000011 )
        cnt = cnt >> 1
        PAUSE 1000
        OUTH = cnt
      LOOP

      wstep = 0

  ENDSELECT
LOOP